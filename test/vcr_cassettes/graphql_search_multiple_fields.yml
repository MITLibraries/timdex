---
http_interactions:
- request:
    method: post
    uri: http://localhost:9200/all-current/_search
    body:
      encoding: UTF-8
      string: '{"from":"0","size":20,"query":{"bool":{"should":null,"must":[{"match":{"title":"common"}},{"nested":{"path":"contributors","query":{"bool":{"must":[{"match":{"contributors.value":"mcternan"}}]}}}},{"nested":{"path":"identifiers","query":{"bool":{"must":[{"match":{"identifiers.value":"163565002x"}}]}}}}],"filter":[]}},"aggregations":{"contributors":{"nested":{"path":"contributors"},"aggs":{"contributor_names":{"terms":{"field":"contributors.value.keyword"}}}},"content_type":{"terms":{"field":"content_type"}},"content_format":{"terms":{"field":"format"}},"languages":{"terms":{"field":"languages.keyword"}},"literary_form":{"terms":{"field":"literary_form"}},"places":{"nested":{"path":"subjects"},"aggs":{"only_spatial":{"filter":{"terms":{"subjects.kind":["Dublin
        Core; Spatial"]}},"aggs":{"place_names":{"terms":{"field":"subjects.value.keyword"}}}}}},"source":{"terms":{"field":"source"}},"subjects":{"nested":{"path":"subjects"},"aggs":{"subject_names":{"terms":{"field":"subjects.value.keyword"}}}}},"sort":[{"_score":{"order":"desc"}},{"dates.value.as_date":{"order":"desc","nested":{"path":"dates"}}}]}'
    headers:
      User-Agent:
      - 'opensearch-ruby/3.1.0 (RUBY_VERSION: 3.2.2; darwin x86_64; Faraday v2.9.0)'
      Content-Type:
      - application/json
      Host:
      - localhost:9200
      X-Amz-Date:
      - 20240221T141912Z
      X-Amz-Content-Sha256:
      - "<REDACTED_SHA>"
      Authorization:
      - "<REDACTED_AUTHORIZATION>"
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 21 Feb 2024 14:19:12 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding, User-Agent
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJ0b29rIjo4MCwidGltZWRfb3V0IjpmYWxzZSwiX3NoYXJkcyI6eyJ0b3RhbCI6MjIsInN1Y2Nlc3NmdWwiOjIyLCJza2lwcGVkIjowLCJmYWlsZWQiOjB9LCJoaXRzIjp7InRvdGFsIjp7InZhbHVlIjoxLCJyZWxhdGlvbiI6ImVxIn0sIm1heF9zY29yZSI6bnVsbCwiaGl0cyI6W3siX2luZGV4IjoiYWxtYS0yMDIzLTAzLTMwdDE1LTE2LTE0IiwiX2lkIjoiYWxtYTo5OTAwMjc2NzI3NzAxMDY3NjEiLCJfc2NvcmUiOjQxLjQ1ODQ5NiwiX3NvdXJjZSI6eyJzb3VyY2UiOiJNSVQgQWxtYSIsInNvdXJjZV9saW5rIjoiaHR0cHM6Ly9taXQucHJpbW8uZXhsaWJyaXNncm91cC5jb20vZGlzY292ZXJ5L2Z1bGxkaXNwbGF5P3ZpZD0wMU1JVF9JTlNUOk1JVCZkb2NpZD1hbG1hOTkwMDI3NjcyNzcwMTA2NzYxIiwidGltZGV4X3JlY29yZF9pZCI6ImFsbWE6OTkwMDI3NjcyNzcwMTA2NzYxIiwidGl0bGUiOiJBIGNvbW1vbiB0YWJsZSA6IDgwIHJlY2lwZXMgYW5kIHN0b3JpZXMgZnJvbSBteSBzaGFyZWQgY3VsdHVyZXMiLCJjYWxsX251bWJlcnMiOlsiVFg3MjQuNS5BMSIsIjY0MS41OTUiXSwiY2l0YXRpb24iOiJNY1Rlcm5hbiwgQ3ludGhpYSBDaGVuICgyMDE4KTogQSBjb21tb24gdGFibGUgOiA4MCByZWNpcGVzIGFuZCBzdG9yaWVzIGZyb20gbXkgc2hhcmVkIGN1bHR1cmVzLiBOZXcgWW9yayA6IFJvZGFsZSBCb29rcywgYW4gaW1wcmludCBvZiB0aGUgQ3Jvd24gUHVibGlzaGluZyBHcm91cCwgYSBkaXZpc2lvbiBvZiBQZW5ndWluIFJhbmRvbSBIb3VzZSBMTEMsIFsyMDE4XS4gTGFuZ3VhZ2UgbWF0ZXJpYWwuIGh0dHBzOi8vbWl0LnByaW1vLmV4bGlicmlzZ3JvdXAuY29tL2Rpc2NvdmVyeS9mdWxsZGlzcGxheT92aWQ9MDFNSVRfSU5TVDpNSVQmZG9jaWQ9YWxtYTk5MDAyNzY3Mjc3MDEwNjc2MSIsImNvbnRlbnRfdHlwZSI6WyJMYW5ndWFnZSBtYXRlcmlhbCJdLCJjb250ZW50cyI6WyJCcmVha2Zhc3QiLCJMdW5jaCAmIHNtYWxsIGVhdHMiLCJEYXRlIG5pZ2h0IGluIiwiQ2VsZWJyYXRpb25zICYgZ2F0aGVyaW5ncyIsIk9uIHRoZSBzaWRlIiwiU3dlZXQiLCJEcmlua3MiXSwiY29udHJpYnV0b3JzIjpbeyJ2YWx1ZSI6Ik1jVGVybmFuLCBDeW50aGlhIENoZW4iLCJraW5kIjoiYXV0aG9yIn1dLCJkYXRlcyI6W3sia2luZCI6IlB1YmxpY2F0aW9uIGRhdGUiLCJ2YWx1ZSI6IjIwMTgifV0sImVkaXRpb24iOiJGaXJzdCBlZGl0aW9uLiIsImhvbGRpbmdzIjpbeyJjYWxsX251bWJlciI6IlRYNzI0LjUuQTEgTTM4IDIwMTgiLCJjb2xsZWN0aW9uIjoiU3RhY2tzIiwiZm9ybWF0IjoiUHJpbnQgdm9sdW1lIiwibG9jYXRpb24iOiJIYXlkZW4gTGlicmFyeSJ9XSwiaWRlbnRpZmllcnMiOlt7InZhbHVlIjoiMjAxODI4NzI3OSIsImtpbmQiOiJMQ0NOIn0seyJ2YWx1ZSI6IjE2MzU2NTAwMlguIChoYXJkYmFjaykiLCJraW5kIjoiSVNCTiJ9LHsidmFsdWUiOiI5NzgxNjM1NjUwMDIwLiAoaGFyZGJhY2spIiwia2luZCI6IklTQk4ifSx7InZhbHVlIjoiKE1DTSkwMDI3NjcyNzdNSVQwMSIsImtpbmQiOiJPQ0xDIE51bWJlciJ9LHsidmFsdWUiOiJOSENDWUJQLiBOSENDWUJQIiwia2luZCI6Ik9DTEMgTnVtYmVyIn0seyJ2YWx1ZSI6IjEwMTk3MzczMzUiLCJraW5kIjoiT0NMQyBOdW1iZXIifSx7InZhbHVlIjoiMTA2MTE0NzQ5OCIsImtpbmQiOiJPQ0xDIE51bWJlciJ9LHsidmFsdWUiOiJOSENDWUJQIiwia2luZCI6Ik9DTEMgTnVtYmVyIn1dLCJsYW5ndWFnZXMiOlsiRW5nbGlzaCJdLCJsaXRlcmFyeV9mb3JtIjoiTm9uZmljdGlvbiIsIm5vdGVzIjpbeyJ2YWx1ZSI6WyJDeW50aGlhIENoZW4gTWNUZXJuYW4iXSwia2luZCI6IlRpdGxlIFN0YXRlbWVudCBvZiBSZXNwb25zaWJpbGl0eSJ9LHsidmFsdWUiOlsiSW5jbHVkZXMgaW5kZXgiXSwia2luZCI6IkdlbmVyYWwgTm90ZSJ9XSwicGh5c2ljYWxfZGVzY3JpcHRpb24iOiIyODUgcGFnZXMgOiBjb2xvciBpbGx1c3RyYXRpb25zIDsgMjcgY20iLCJwdWJsaWNhdGlvbl9pbmZvcm1hdGlvbiI6WyJOZXcgWW9yayA6IFJvZGFsZSBCb29rcywgYW4gaW1wcmludCBvZiB0aGUgQ3Jvd24gUHVibGlzaGluZyBHcm91cCwgYSBkaXZpc2lvbiBvZiBQZW5ndWluIFJhbmRvbSBIb3VzZSBMTEMsIFsyMDE4XSIsIsKpMjAxOCJdLCJzdWJqZWN0cyI6W3sidmFsdWUiOlsiQXNpYW4gQW1lcmljYW4gY29va2luZyJdLCJraW5kIjoiVG9waWNhbCBUZXJtIn0seyJ2YWx1ZSI6WyJBc2lhbiBBbWVyaWNhbiBjb29raW5nIl0sImtpbmQiOiJUb3BpY2FsIFRlcm0ifV0sInN1bW1hcnkiOlsiSW4gQSBDb21tb24gVGFibGUsIFR3byBSZWQgQm93bHMgYmxvZ2dlciBDeW50aGlhIENoZW4gTWNUZXJuYW4gc2hhcmVzIG1vcmUgdGhhbiA4MCBBc2lhbi1pbnNwaXJlZCwgbW9kZXJuIHJlY2lwZXMgdGhhdCBtYXJyeSBmb29kIGZyb20gaGVyIENoaW5lc2Ugcm9vdHMsIFNvdXRoZXJuIHVwYnJpbmdpbmcsIGFuZCBLb3JlYW4gbW90aGVyLWluLWxhdydzIHRhYmxlLiBUaGUgYm9vayBjaHJvbmljbGVzIEN5bnRoaWEncyBzdG9yeSBhbG9uZ3NpZGUgdGhlIHJlY2lwZXMgc2hlIGFuZCBoZXIgZmFtaWx5IGVhdCBldmVyeSBkYXktLWJlZ2lubmluZyB3aGVuIHNoZSBtZXQgaGVyIGh1c2JhbmQgYXQgbGF3IHNjaG9vbCBhbmQgYXRlIG91dCBvZiB0d28gYmF0dGVyZWQgcmVkIGJvd2xzLCB0aHJvdWdoIHRoZSBmaXJzdCB5ZWFycyBvZiBoZXIgbGVnYWwgY2FyZWVyIGluIE5ldyBZb3JrLCB0byB3aGVuIHNoZSBtb3ZlZCB0byBMb3MgQW5nZWxlcyB0byBzdGFydCBhIGZhbWlseS4gQXMgQ3ludGhpYSdzIGxpZmUgaGFzIGNoYW5nZWQsIGhlciBjb29raW5nIGhhcyBiZWNvbWUgbW9yZSBkaXZlcnNlLiBTaGUgc2hhcmVzIHJlY2lwZXMgdGhhdCBjZWxlYnJhdGUgYm90aCB0aGUgY29tbW9uYWxpdGllcyBhbmQgdGhlIGRpdmVyc2l0eSBvZiBjdWx0dXJlczogaGVyIG1vdGhlci1pbi1sYXcncyBzcGljeSBLb3JlYW4taW5zcGlyZWQgdGFrZSBvbiBIYXdhaWlhbiBwb2tlLCBhIHN0aWNreSBzZXNhbWUgcGVhbnV0IHBpZSB0aGF0IGNvbWJpbmVzIENoaW5lc2UgcGVhbnV0IHNlc2FtZSBicml0dGxlIHdpdGggdGhlIGRlY2FkZW5jZSBvZiBhIFNvdXRoZXJuIHBlY2FuIHBpZSwgYW5kIGEgZ3JpbGxlZCBjaGVlc2UgdG9wcGVkIHdpdGggYSBjcmlzcCBmcmllZCBlZ2cgYW5kIGZpZXJ5IGtpbWNoaS4gQW5kIG9mIGNvdXJzZSwgc2hlIHNoYXJlcyB0aGUgYmFzaWNzOiBob3cgdG8gbWFrZSBzb2Z0LCBwaWxsb3d5IHN0ZWFtZWQgYnVucywgc2F2b3J5IHBvcmsgZHVtcGxpbmdzLCBhbmQgYSBzaW1wbGUgZnJpZWQgcmljZSB0aGF0IGNhbiBmb3JtIHRoZSBiYXNlIG9mIGFueSBtZWFsLiBBc2lhbiBmb29kIG1heSBoYXZlIGEgcmVwdXRhdGlvbiBmb3IgaGF2aW5nIGxvbmcgaW5ncmVkaWVudCBsaXN0cyBhbmQgY29tcGxpY2F0ZWQgaW5zdHJ1Y3Rpb25zLCBidXQgQ3ludGhpYSBtYWtlcyBpdCByZWxhdGFibGUsIGF2b2lkaW5nIGhhcmQtdG8tZmluZCBpbmdyZWRpZW50cyBvciBlcXVpcG1lbnQsIGFuZCBicmVha2luZyBkb3duIGhvdyB0byBicmluZyBBc2lhbiBmbGF2b3JzIGhvbWUgaW50byB5b3VyIG93biBraXRjaGVuLiBBYm92ZSBhbGwsIEN5bnRoaWEgYmVsaWV2ZXMgdGhhdCBmb29kIGNhbiBicmluZyB1cyB0b2dldGhlciBhcm91bmQgdGhlIHNhbWUgdGFibGUsIG5vIG1hdHRlciB3aGVyZSB3ZSBhcmUgZnJvbS4gVGhlIG1lc3NhZ2UgYXQgdGhlIGhlYXJ0IG9mIEEgQ29tbW9uIFRhYmxlIGlzIHRoYXQgdGhlIGZvb2Qgd2UgbWFrZSBhbmQgZWF0IGlzIHJhcmVseSB0aGUgcHJvZHVjdCBvZiBvbmUgY3VsdHVyZSBvciBtb21lbnQsIGJ1dCBpcyByaWNobHkgaW50ZXJ3b3Zlbi0tYW5kIHRob3VnaCBzb21lIGRpc2hlcyBtaWdodCBzZWVtIG5ldyBvciBkaWZmZXJlbnQsIHRoZXkgYXJlIG9mdGVuIG1vcmUgYWxpa2UgdGhhbiB0aGV5IGFwcGVhci4gLS0gQW1hem9uLiJdfSwic29ydCI6WzQxLjQ1ODQ5NiwxNTE0NzY0ODAwMDAwXX1dfSwiYWdncmVnYXRpb25zIjp7InBsYWNlcyI6eyJkb2NfY291bnQiOjIsIm9ubHlfc3BhdGlhbCI6eyJkb2NfY291bnQiOjAsInBsYWNlX25hbWVzIjp7ImRvY19jb3VudF9lcnJvcl91cHBlcl9ib3VuZCI6MCwic3VtX290aGVyX2RvY19jb3VudCI6MCwiYnVja2V0cyI6W119fX0sImxhbmd1YWdlcyI6eyJkb2NfY291bnRfZXJyb3JfdXBwZXJfYm91bmQiOjAsInN1bV9vdGhlcl9kb2NfY291bnQiOjAsImJ1Y2tldHMiOlt7ImtleSI6ImVuZ2xpc2giLCJkb2NfY291bnQiOjF9XX0sImNvbnRlbnRfdHlwZSI6eyJkb2NfY291bnRfZXJyb3JfdXBwZXJfYm91bmQiOjAsInN1bV9vdGhlcl9kb2NfY291bnQiOjAsImJ1Y2tldHMiOlt7ImtleSI6Imxhbmd1YWdlIG1hdGVyaWFsIiwiZG9jX2NvdW50IjoxfV19LCJzdWJqZWN0cyI6eyJkb2NfY291bnQiOjIsInN1YmplY3RfbmFtZXMiOnsiZG9jX2NvdW50X2Vycm9yX3VwcGVyX2JvdW5kIjowLCJzdW1fb3RoZXJfZG9jX2NvdW50IjowLCJidWNrZXRzIjpbeyJrZXkiOiJhc2lhbiBhbWVyaWNhbiBjb29raW5nIiwiZG9jX2NvdW50IjoyfV19fSwiY29udGVudF9mb3JtYXQiOnsiZG9jX2NvdW50X2Vycm9yX3VwcGVyX2JvdW5kIjowLCJzdW1fb3RoZXJfZG9jX2NvdW50IjowLCJidWNrZXRzIjpbXX0sImxpdGVyYXJ5X2Zvcm0iOnsiZG9jX2NvdW50X2Vycm9yX3VwcGVyX2JvdW5kIjowLCJzdW1fb3RoZXJfZG9jX2NvdW50IjowLCJidWNrZXRzIjpbeyJrZXkiOiJub25maWN0aW9uIiwiZG9jX2NvdW50IjoxfV19LCJzb3VyY2UiOnsiZG9jX2NvdW50X2Vycm9yX3VwcGVyX2JvdW5kIjowLCJzdW1fb3RoZXJfZG9jX2NvdW50IjowLCJidWNrZXRzIjpbeyJrZXkiOiJtaXQgYWxtYSIsImRvY19jb3VudCI6MX1dfSwiY29udHJpYnV0b3JzIjp7ImRvY19jb3VudCI6MSwiY29udHJpYnV0b3JfbmFtZXMiOnsiZG9jX2NvdW50X2Vycm9yX3VwcGVyX2JvdW5kIjowLCJzdW1fb3RoZXJfZG9jX2NvdW50IjowLCJidWNrZXRzIjpbeyJrZXkiOiJtY3Rlcm5hbiwgY3ludGhpYSBjaGVuIiwiZG9jX2NvdW50IjoxfV19fX19
  recorded_at: Wed, 21 Feb 2024 14:19:12 GMT
recorded_with: VCR 6.2.0
